+ ld obj/kern/kernel
+ mk obj/kern/kernel.img
Could not open option rom 'sgabios.bin': No such file or directory
6828 decimal is 15254 octal!
Physical memory: 66556K available, base = 640K, extended = 65532K
check_page_alloc() succeeded!
check_page() succeeded!
check_kern_pgdir() succeeded!
check_page_installed_pgdir() succeeded!
SMP: CPU 0 found 1 CPU(s)
enabled interrupts: 1 2 4
CPU 0, TRAP NUM : 48
SYSCALLNO 2
CPU 0, TRAP NUM : 48
SYSCALLNO 0
FS is running
CPU 0, TRAP NUM : 48
SYSCALLNO 0
FS can do I/O
CPU 0, TRAP NUM : 48
SYSCALLNO 0
Device 1 presence: 1
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 10
CPU 0, TRAP NUM : 14
10001000
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 2
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 0
superblock is good
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0xeebfdf94 0xffff000 0xeebfdf90
CPU 0, TRAP NUM : 48
SYSCALLNO 0
BEGIN
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xffff000
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 0
OVER
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 14
10067000
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0x0 0xd0000000 0x0
CPU 0, TRAP NUM : 48
SYSCALLNO 0
BEGIN
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xd0000000
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 6
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0xeebfdf94 0xffff000 0xeebfdf90
CPU 0, TRAP NUM : 48
SYSCALLNO 0
BEGIN
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xffff000
CPU 0, TRAP NUM : 48
SYSCALLNO 0
OVER
CPU 0, TRAP NUM : 48
SYSCALLNO 0
OPEN
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0x0 0x0 0x0
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 0
OVER
CPU 0, TRAP NUM : 14
10004000
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xeec00000
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 6
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0xeebfdf94 0xffff000 0xeebfdf90
CPU 0, TRAP NUM : 48
SYSCALLNO 0
BEGIN
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xffff000
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0x0 0x0 0x0
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xeec00000
CPU 0, TRAP NUM : 48
SYSCALLNO 0
OVER
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 6
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0xeebfdf94 0xffff000 0xeebfdf90
CPU 0, TRAP NUM : 48
SYSCALLNO 0
BEGIN
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 10
CPU 0, TRAP NUM : 48
SYSCALLNO 7
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xffff000
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 14
eebfdf80
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 10
CPU 0, TRAP NUM : 48
SYSCALLNO 8
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 14
eebfdf94
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 48
SYSCALLNO 2
CPU 0, TRAP NUM : 14
804420
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 14
d0000004
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 0
going to read in child (might page fault if your sharing is buggy)
CPU 0, TRAP NUM : 14
805000
CPU 0, TRAP NUM : 48
SYSCALLNO 4
CPU 0, TRAP NUM : 48
SYSCALLNO 5
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0x0 0x0 0x0
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xeec00000
CPU 0, TRAP NUM : 48
SYSCALLNO 0
OVER
CPU 0, TRAP NUM : 32
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 48
SYSCALLNO 12
CPU 0, TRAP NUM : 48
SYSCALLNO 6
CPU 0, TRAP NUM : 48
SYSCALLNO 0
0xeebfdf94 0xffff000 0xeebfdf90
CPU 0, TRAP NUM : 48
SYSCALLNO 0
BEGIN
CPU 0, TRAP NUM : 48
SYSCALLNO 13
IPC RECV 0xffff000
CPU 0, TRAP NUM : 48
SYSCALLNO 11
CPU 0, TRAP NUM : 48
SYSCALLNO 2
CPU 0, TRAP NUM : 48
SYSCALLNO 0
[00001002] user panic in <unknown> at user/testfdsharing.c:23: CPU 0, TRAP NUM : 48
SYSCALLNO 0
read in parent got 92, read in child got 0CPU 0, TRAP NUM : 48
SYSCALLNO 0

CPU 0, TRAP NUM : 3
Welcome to the JOS kernel monitor!
Type 'help' for a list of commands.
TRAP frame at 0xf02740f8 from CPU 0
  edi  0x0000005c
  esi  0xeebfdfa4
  ebp  0xeebfdf90
  oesp 0xefffffdc
  ebx  0x0080247b
  edx  0x00000000
  ecx  0x00000001
  eax  0x00000001
  es   0x----0023
  ds   0x----0023
  trap 0x00000003 Breakpoint
  err  0x00000000
  eip  0x0080026c
  cs   0x----001b
  flag 0x00000286
  esp  0xeebfdf88
  ss   0x----0023
K> 
QEMU: Terminated via GDBstub
